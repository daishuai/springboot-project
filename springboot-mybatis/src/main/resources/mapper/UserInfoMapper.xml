<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.daishuai.mybatis.dao.UserInfoMapper">

    <resultMap id="BaseResultMap" type="com.daishuai.mybatis.entity.UserInfoEntity">
        <result column="user_code" jdbcType="VARCHAR" property="userCode" />
        <result column="username" jdbcType="VARCHAR" property="username" />
        <result column="password" jdbcType="VARCHAR" property="password" />
        <result column="age" jdbcType="INTEGER" property="age" />
        <result column="address" jdbcType="VARCHAR" property="address" />
        <result column="phone" jdbcType="VARCHAR" property="phone" />
    </resultMap>

    <!--根据用户编号查询用户信息-->
    <select id="findByUserCode" resultMap="BaseResultMap">
        select * from user_info where user_code = #{userCode}
    </select>

    <!--查询所有用户信息-->
    <select id="findAll" resultMap="BaseResultMap">
        select * from user_info
    </select>

    <!--分页查询用户信息-->
    <select id="pageFind" resultMap="BaseResultMap">
        select * from user_info
    </select>

    <!--新增用户信息-->
    <insert id="addUserInfo" parameterType="com.daishuai.mybatis.entity.UserInfoEntity" keyProperty="userCode">
        insert into user_info (user_code, username, password, age, address, phone)
        values (#{userCode}, #{username}, #{password}, #{age}, #{address}, #{phone})
    </insert>

    <!--更新用户信息-->
    <update id="updateUserInfo" parameterType="com.daishuai.mybatis.entity.UserInfoEntity">
        update user_info
        set username = #{username}, password = #{password}, age = #{age}, address = #{address}, phone = #{phone}
        where user_code = #{userCode}
    </update>

    <!--根据用户编号删除用户信息-->
    <delete id="deleteUserInfo" parameterType="String">
        delete from user_info
        where user_code = #{userCode}
    </delete>

</mapper>
