## 1、加入作战或观战
##### 请求路径
````
POST /kirms/kirms-server/fireapp/watch
````
##### 请求参数
| 参数名 | 参数值 | 备注 | 
| ---- | ----- | ----- |
| personCode | 人员编号|   |
| combatWay | 作战形式 |   | 
| incidentCode | 灾情编号 |   | 
##### combatWay取值
````
1:参战
10：指挥作战
11：内攻作战
2：观战
````
##### 响应
```json
{
    "code": "0",
    "result": true,
    "status": 200,
    "timeElapsed": 1664,
    "timestamp": 1579137541612
}
```
## 2、推出作战或观战
##### 请求路径
````
POST /kirms/kirms-server/fireapp/cancel
````
##### 请求参数
    --qin
| 参数名 | 参数值 | 备注 | 
| ---- | ----- | ----- |
| personCode | 人员编号|   |
| incidentCode | 灾情编号 |   | 
##### 响应
```json
{
    "code": "0",
    "result": true,
    "status": 200,
    "timeElapsed": 861,
    "timestamp": 1579137705824
}
```
## 3、修正灾情位置
##### 请求路径
````
POST /kirms/kirms-server/fireapp/updateAlarmAddress
````
##### 请求参数
| 参数名 | 参数值 | 备注 | 
| ---- | ----- | ----- |
| pesonName | 人员姓名|   |
| incidentCode | 灾情编号 |   |
| departmentCode | 机构编号 |   |
| longitude | 经度 |   |
| latitude | 纬度 |   | 
##### 响应
```json
{
    "code": "0",
    "result": true,
    "status": 200,
    "timeElapsed": 20736,
    "timestamp": 1579137767335
}
```
## 4、上报车辆GPS
##### 请求路径
````
POST /kirms/kirms-server/fireapp/reportVehicleGPS
````
##### 请求参数
```json
{
	"cphm": "WJ苏7398X",  ##车牌号码
	"clbh": "2d677384207946a58098416488649367", ##车辆编号
	"jd": 134.2,  ##经度
	"wd": 21.2,   ##纬度
	"sd": 12.3,  ##速度
	"gxsj": "2020-01-15 16:37:00",  ##更新时间
	"xfjg": "e5031c724cf04859a3ed3f93ae49a0c6"  ##消防机构
}
````
##### 响应
```json
{
    "code": "0",
    "result": true,
    "status": 200,
    "timeElapsed": 497,
    "timestamp": 1579137819063
}
```
## 5、上报人员GPS
##### 请求路径
````
POST /kirms/kirms-server/fireapp/reportPersonGPS
````
##### 请求参数
````json
{
	"rybh": "b108912baa524b10a63e11f9777a2e91",  ##人员编号
	"ryxm": "彭应哲",  ##人员姓名
	"jd": 132.2,  ##经度
	"wd": 31.2,   ##纬度
	"gd": 123,    ## 高度
	"lc": 2,     ##楼层
	"xfjg": "9367c64258414b2ab106071557593d0e",  ##消防机构
	"zqbh": "",  ##灾情编号
	"cjsj": "2020-01-15 16:45:00",  ##采集时间
	"gxsj": "2020-01-15 16:45:00" ## 更新时间
}
````
##### 响应
```json
{
    "code": "0",
    "result": true,
    "status": 200,
    "timeElapsed": 255,
    "timestamp": 1579137848538
}
```
## 6、上报消防机构GPS
##### 请求路径
````
POST /kirms/kirms-server/fireapp/reportDepartmentGPS
````
##### 请求参数
| 参数名 | 参数值 | 备注 | 
| ---- | ----- | ----- |
| departmentCode | 机构编号 |   |
| longitude | 经度 |   |
| latitude | 纬度 |   | 
##### 响应
```json
{
    "code": "0",
    "result": true,
    "status": 200,
    "timeElapsed": 195,
    "timestamp": 1579137882047
}
```
## 7、上报灾情位置
##### 请求路径
````
POST /kirms/kirms-server/fireapp/reportIncidentLocation
````
##### 请求参数
````json
{
	"wzmc": "受灾点",   ##位置名称
	"wzdz": "苏州",    ##位置地址
	"zqbh": "bfd69156d45f47099cd9cd85610099f9",  ##灾情编号
	"wzlx": "0", ##位置类型
    "wzmj": 212.22,   ##位置面积
    "shape": {
         "type": "",
         "coordinates": [] ## 数组
    },
	"jd": 131.1,  ##经度
	"wd": 21.1,  ##纬度
	"sjly": "作战终端",  ##数据来源
	"rkry": "张三",  ##入库人员
    "rksj": "2020-01-15 12:22:22" ##入库时间，格式yyyy-MM-dd HH:mm:ss
}
````
##### wzlx取值
```
0：受灾点
1：车辆集结地
2：物资集结地
3：特种装备集结地
4：灾情执勤点
5：道路中断
6：桥梁中断
7：通讯中断
8：供电中断
9：供水中断
10：供气中断
```
##### 响应
```json
{
    "code": "0",
    "result": {
        "WZBH": "ff99f2d86a364c1ea04b8b858ecbb0a0",
        "WZMC": "受灾点",
        "WZDZ": "苏州",
        "SHAPE": {
            "coordinates": [
                131.1,
                21.1
            ],
            "type": "point"
        },
        "SJLY": "作战终端",
        "RKRY": "张三",
        "RKSJ": "2020-01-16 09:25:11",
        "ZQBH": "bfd69156d45f47099cd9cd85610099f9",
        "WZLX": "0",
        "GXRY": "张三",
        "GXSJ": "2020-01-16 09:25:11",
        "JSNR": [
            "sz",
            "SHOUZAIDIAN",
            "受灾点",
            "SUZHOU",
            "szd",
            "苏州"
        ]
    },
    "status": 200,
    "timeElapsed": 575,
    "timestamp": 1579137911361
}
```
## 8、更新人员状态
##### 请求路径
````
POST /kirms/kirms-server/fireapp/updatePersonStatus
````
##### 请求参数
````json
{
	"rybh": "e12b1a40cdc54075bcf2e4715f31160a", ##人员编号
	"ryxm": "张三1015", ##人员姓名
	"ryzt": "0301",  ##人员状态
	"xfjg": "75dd6aefbf3c43e69fe3b90b6f0ec4d4",  ##消防机构编号
	"zqbh": "bfd69156d45f47099cd9cd85610099f9", ##灾情编号
	"cjsj": "2020-01-15 17:44:00" ##采集时间，格式yyyy-MM-dd HH:mm:ss
}
````
##### ryzt取值
```
01:出动
02:途中
03:到场
04:返队
99:其他
```
##### 响应
```json
{
    "code": "0",
    "result": true,
    "status": 200,
    "timeElapsed": 223,
    "timestamp": 1579138031374
}
```
## 9、更新车辆状态
##### 请求路径
````
POST /kirms/kirms-server/fireapp/updateVehicleStatus
````
##### 请求参数
````json
{
	"clbh": "2d677384207946a58098416488649367", ##车辆编号
	"cphm": "WJ苏7398X", ##车牌号码
	"clzt": "0301",  ##车辆状态
	"xfjg": "e5031c724cf04859a3ed3f93ae49a0c6", ##消防机构编号
	"zqbh": "bfd69156d45f47099cd9cd85610099f9",  ##灾情编号
	"cjsj": "2020-01-15 12:11:22" ##采集时间，格式yyyy-MM-dd HH:mm:ss
}
````
##### clzt取值
```
01:通知
02:待命
03:出动
0301:途中
0302:到场
0303:出水
0304:停水
0305:返队
0306:执勤
0307:驻防
04:训练
05:加油
06:试车
07:验收
08:公务
09:故障
0901:修理
0902:保养
10:报废
99:其他

```
##### 响应
```json
{
    "code": "0",
    "result": true,
    "status": 200,
    "timeElapsed": 223,
    "timestamp": 1579138031374
}
```
## 10、上传文件
```
POST /kircp-servers/kircp/file/commonUpload
```
##### 请求参数
```
--helle
```

| 参数名 | 参数值 | 备注 | 
| ---- | ----- | ----- |
| schema | 存放文件的文件夹 |   |
| file | 上传的文件 |   |
##### 响应
```json

```
## 11、上报现场信息
```
POST /kirms/kirms-server/fireapp/reportSceneInfo
```
##### 请求参数
```json
{
	"zqbh": "",   ##灾情编号
	"dcrs": 12,   ##到场人数
	"bkrs": 1,  ##被困人数
	"qzssrs": 1,   ##群众受伤人数
	"qzswrs": 2,   ##群众死亡人数
	"qzszrs": 2,   ##群众失踪人数
	"bdssrs": 1,   ##部队失踪人数
	"bdswrs": 2,   ##部队死亡人数
	"bdszrs": 2,   ##部队失踪人数
	"sjrs": 2,     ##搜救人数
	"sjcz": 1,    ##搜救村庄
	"sjjz": 23,   ##搜救建筑
	"sjmj": 12.3,  ##搜救面积
	"hsqk": "控制",  ##火势情况
	"rswz": "木头",  ##燃烧物质
	"tqqk": "小雨",  ##天气情况
	"xdsd": 12.3,    ##相对湿度
	"hcwd": 11,    ##火场温度
	"qw": -1,     ##气温
	"fx": "东南凤",  ##风向
	"xcms": "火势已控制",   ##现场描述
	"zhry": "张三",   ##指挥人员
	"sjly": "作战终端",  ##数据来源
	"rksj": "2020-01-17 12:00:00",  ##入库时间
	"rkry": "李四",  ##入库人员
	"gxsj": "2020-01-17 12:00:00",  ##更新时间
	"gxry": "李四",  ##更新人员
	"fwps": 12,  ##房屋破损（间）
	"fwdt": 1   ##房屋倒塌（间）
}
```
##### 响应
```json
{
    "code": "0",
    "result": {
        "FWDT": 1,
        "SJJZ": 23,
        "QZSZRS": 2,
        "RSWZ": "木头",
        "SJLY": "作战终端",
        "HSQK": "控制",
        "FX": "东南凤",
        "SJMJ": 12.3,
        "XDSD": 12.3,
        "BKRS": 1,
        "ZQBH": "",
        "GXRY": "李四",
        "QZSSRS": 1,
        "QZSWRS": 2,
        "DCRS": 12,
        "ZHRY": "张三",
        "BDSWRS": 2,
        "BDSSRS": 1,
        "QW": -1.0,
        "RKRY": "李四",
        "SJCZ": 1,
        "GXSJ": "2020-01-17 12:00:00",
        "HCWD": 11.0,
        "BDSZRS": 2,
        "XXBH": "e397d7c3ad534003842067d5888352bf",
        "TQQK": "小雨",
        "FWPS": 12,
        "RKSJ": "2020-01-17 12:00:00",
        "XCMS": "火势已控制",
        "SJRS": 2
    },
    "status": 200,
    "timeElapsed": 121,
    "timestamp": 1579250776201
}
```
